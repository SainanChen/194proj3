<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="CS 194 Project 3: Face Morphing, 1.1 reference points and Mid-way Face">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>1 Morph 2 Faces</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="1-Morph-2-Faces.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 2.27.1, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster:400">
    
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "proj3",
		"url": "index.html"
}</script>
    <meta property="og:title" content="1 Morph 2 Faces">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#478ac9">
    <link rel="canonical" href="index.html">
    <meta property="og:url" content="index.html">
  </head>
  <body class="u-body"><header class="u-clearfix u-header u-image u-header" id="sec-a396"><div class="u-clearfix u-sheet u-sheet-1">
        <h1 class="u-custom-font u-font-Lobster u-text u-text-default u-text-palette-3-light-1 u-title u-text-1">CS 194 Project 3: Face Morphing</h1>
        <h3 class="u-align-center u-text u-text-default u-text-white u-text-2">By Sainan Chen<br>10/9/2020
        </h3>
        <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-hover-palette-3-base u-nav-link u-palette-1-light-1 u-text-active-palette-3-base u-text-hover-white u-text-white" href="#">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;"><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</symbol>
</defs></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-hover-palette-3-base u-nav-link u-palette-1-light-1 u-text-active-palette-3-base u-text-hover-white u-text-white" href="Overview.html" style="padding: 12px 20px;">Overview</a>
</li><li class="u-nav-item"><a class="u-button-style u-hover-palette-3-base u-nav-link u-palette-1-light-1 u-text-active-palette-3-base u-text-hover-white u-text-white" href="1-Morph-2-Faces.html" style="padding: 12px 20px;">1 Morph 2 Faces</a>
</li><li class="u-nav-item"><a class="u-button-style u-hover-palette-3-base u-nav-link u-palette-1-light-1 u-text-active-palette-3-base u-text-hover-white u-text-white" href="2-Mean-Face-of-a-Population.html" style="padding: 12px 20px;">2 Mean Face of a Population</a>
</li><li class="u-nav-item"><a class="u-button-style u-hover-palette-3-base u-nav-link u-palette-1-light-1 u-text-active-palette-3-base u-text-hover-white u-text-white" href="3-Caricature.html" style="padding: 12px 20px;">3 Caricature</a>
</li><li class="u-nav-item"><a class="u-button-style u-hover-palette-3-base u-nav-link u-palette-1-light-1 u-text-active-palette-3-base u-text-hover-white u-text-white" href="4-Bells-and-Whistles-Timeline.html" style="padding: 12px 20px;">4 Bells and Whistles Age</a>
</li><li class="u-nav-item"><a class="u-button-style u-hover-palette-3-base u-nav-link u-palette-1-light-1 u-text-active-palette-3-base u-text-hover-white u-text-white" style="padding: 12px 20px;" href="Conclusion.html">Conclusion</a>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-menu-close"></div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Overview.html" style="padding: 12px 20px;">Overview</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="1-Morph-2-Faces.html" style="padding: 12px 20px;">1 Morph 2 Faces</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="2-Mean-Face-of-a-Population.html" style="padding: 12px 20px;">2 Mean Face of a Population</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="3-Caricature.html" style="padding: 12px 20px;">3 Caricature</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="4-Bells-and-Whistles-Timeline.html" style="padding: 12px 20px;">4 Bells and Whistles Age</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" style="padding: 12px 20px;" href="Conclusion.html">Conclusion</a>
</li></ul>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
    <section class="u-clearfix u-palette-1-light-3 u-section-1" id="sec-f63c">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-text u-text-palette-3-base u-text-1">1.1 reference points and Mid-way Face</h2>
        <div class="u-palette-1-light-2 u-shape u-shape-rectangle u-shape-1"></div>
        <div class="u-clearfix u-gutter-18 u-layout-wrap u-layout-wrap-1">
          <div class="u-gutter-0 u-layout">
            <div class="u-layout-col">
              <div class="u-size-30">
                <div class="u-layout-row">
                  <div class="u-align-center u-container-style u-image u-layout-cell u-left-cell u-size-30 u-image-1" data-image-width="1190" data-image-height="1368">
                    <div class="u-container-layout u-container-layout-1"></div>
                  </div>
                  <div class="u-container-style u-image u-layout-cell u-right-cell u-size-30 u-image-2">
                    <div class="u-container-layout u-container-layout-2"></div>
                  </div>
                </div>
              </div>
              <div class="u-size-30">
                <div class="u-layout-row">
                  <div class="u-container-style u-image u-layout-cell u-left-cell u-size-30 u-image-3" data-image-width="1190" data-image-height="1368">
                    <div class="u-container-layout u-container-layout-3"></div>
                  </div>
                  <div class="u-container-style u-image u-layout-cell u-right-cell u-size-30 u-image-4" data-image-width="1208" data-image-height="1397">
                    <div class="u-container-layout u-container-layout-4"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <p class="u-text u-text-2">To get start with, we need to find key reference points on each of our input images. We can manually select points using matlab or use existing dataset with labeled points. One thing important is that the order how these reference points are stored should be consistent among all input images, so computer knows which points should be aligned.<br>
          <br>In the example below, I manually selected 50 points identifying key face features on each of the input image. However, the afterwards morphing is not satisfying because the outline of the forehead is distorted without having any reference points. Therefore, I added more reference points on top half of the head later which leads to a better result, and it's always true that more reference points, better the result, although it might also increase the running time.&nbsp;
        </p>
        <p class="u-text u-text-3">To produce the mid-way face, I set both warping fraction and dissolving fraction to 1/2. I first find Delaunay Triangulation (which vertices should form a triangle) based on average coordinates of 2 sets of reference points. Then I find out vertex coordinates of every triangle on the middle image using the average vertex coordinates of corresponding triangles in 2 input images (warping fraction = 1/2). For every pixel on the middle image, I fisrt check which DT triangle it's in, and then I applied inverse Affine Transformation of that particular triangle and each of the input image to find the corresponding 2 points respectively on input images and put average of their pixel colors (dissolving fraction = 1/2) back to the pixel on the middle image.</p>
        <img src="images/mean.jpg" alt="" class="u-image u-image-default u-image-5" data-image-width="786" data-image-height="789">
        <p class="u-small-text u-text u-text-default u-text-font u-text-variant u-text-4">mid face<br>
        </p>
      </div>
    </section>
    <section class="u-clearfix u-palette-1-light-3 u-section-2" id="sec-0d92">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-text u-text-palette-3-base u-text-1">1.2 Morph Sequence</h2>
        <div class="u-palette-1-light-2 u-shape u-shape-rectangle u-shape-1"></div>
        <p class="u-text u-text-2">To make the morphing process dynamic, we only need to change the warping fraction and dissolving fraction in the mid-way face part into a continuous sequence from 0(totally first image) to 1(totally second image).&nbsp;<br>
          <br>Here I choose both fractions to be 0/45, 1/45, ..., 45/45, so we have 45 frames in total.
        </p>
        <img src="images/morph1.gif" alt="" class="u-image u-image-default u-image-1" data-image-width="786" data-image-height="790">
      </div>
    </section>
    
    
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-8bd9"><div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">Sainan Chen</p>
      </div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
      <a class="u-link" href="https://nicepage.com/website-templates" target="_blank">
        <span>Website Templates</span>
      </a>
      <p class="u-text">
        <span>created with</span>
      </p>
      <a class="u-link" href="https://nicepage.com/" target="_blank">
        <span>Website Builder Software</span>
      </a>. 
    </section><span style="height: 64px; width: 64px; margin-left: 0; margin-right: auto; margin-top: 0; background-image: none; right: 20px; bottom: 20px" class="u-back-to-top u-icon u-icon-circle u-opacity u-opacity-85 u-palette-1-base u-spacing-15" data-href="#">
        <svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 551.13 551.13"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-1d98"></use></svg>
        <svg class="u-svg-content" enable-background="new 0 0 551.13 551.13" viewBox="0 0 551.13 551.13" xmlns="http://www.w3.org/2000/svg" id="svg-1d98"><path d="m275.565 189.451 223.897 223.897h51.668l-275.565-275.565-275.565 275.565h51.668z"></path></svg>
    </span>
  </body>
</html>